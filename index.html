<html>
	<head>
		<title>JobSeeker</title>
		
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">
		<link rel="stylesheet" href="style.css">

		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
		<script src="https://use.fontawesome.com/f3009b4d7d.js"></script>
		<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
	</head>
	
	<body>
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<span class="navbar-brand" href="#">JobSeeker</span>
			<ul class="navbar-nav">
				<li class="nav-item">
					<button type="button" role="button" class="btn navbar-btn btn-primary" data-toggle="modal" data-target="#addJobModal">Add Job</button>
				</li>
			</ul>
		</nav>
		<div ng-app="jobseeker" ng-controller="jobseekerCtrl" ng-init="init()">

			<div id="addJobModal" class="modal fade" role="dialog">
				<div class="modal-dialog">
					<div class="modal-content">
						<form class="form-vertical">
						
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">
									&times;
								</button>
							</div>
							
							<div class="modal-body">
								<div class="form-group">
									<label for="dateInput">Date Applied:</label>
									<input class="form-control" type="text" ng-model="job.date" id="dateInput"></input>
								</div>
								<div class="form-group">
									<label for="titleInput">Job Title:</label>
									<input class="form-control" type="text" ng-model="job.title" id="titleInput"></input>
								</div>
								<div class="form-group">
									<label for="companyInput">Company:</label>
									<input class="form-control" type="text" ng-model="job.company" id="companyInput"></input>
								</div>
								<div class="form-group">
									<label for="locationInput">Location:</label>
									<input class="form-control" type="text" ng-model="job.location" id="locationInput"></input>
								</div>
								<div class="form-group">
									<label for="viaInput">Applied via:</label>
									<input class="form-control" type="text" ng-model="job.via" id="viaInput"></input>
								</div>
							</div>

							<div class="modal-footer">
								<input type="button" value="Reset" ng-click="resetForm()" class="btn btn-secondary"></input>
								<input type="submit" value="Submit" ng-click="submitForm()" class="btn btn-primary" data-dismiss="modal"></input>
							</div>

						</form>
					</div>
				</div>
			</div>

			<table class="table">
				<thead>
					<tr>
						<th>Date Applied</th>
						<th id="titleCol" ng-click="sort('title')" class="sortable" ng-class="getSortedClass('title')">Job Title <i class="fa" ng-class="getSortedIcon('title')" /></th>
						<th id="companyCol" ng-click="sort('company')" class="sortable" ng-class="getSortedClass('company')">Company <i class="fa" ng-class="getSortedIcon('company')" /></th>
						<th id="locationCol" ng-click="sort('location')" class="sortable" ng-class="getSortedClass('location')">Location <i class="fa" ng-class="getSortedIcon('location')" /></th>
						<th id="viaCol" ng-click="sort('via')" class="sortable" ng-class="getSortedClass('via')">Applied Via <i class="fa" ng-class="getSortedIcon('via')"/></th>
						<th>&nbsp;</th>
					</tr>
				</thead>

				<tbody>
					<tr ng-repeat="job in joblist">
						<td>{{ getDateString(job.date) }}</td>
						<td>{{ job.title }}</td>
						<td>{{ job.company }}</td>
						<td>{{ job.location }}</td>
						<td>{{ job.via }}</td>
						<td>
							<button type="button" role="button" class="btn btn-warning btn-sm" ng-click="openEditModal($index)" data-toggle="modal" data-target="#addJobModal">EDIT</button>
							<button type="button" class="btn btn-danger btn-sm" ng-click="deleteJob(job._id, $index)">DEL</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<script src="jobseekerApp.js"></script>
		<script src="jobseekerCtrl.js"></script>
	</body>
</html>	
