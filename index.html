<html>
	<head>
		<title>JobSeeker</title>
		
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">
		<link rel="stylesheet" href="style.css">

		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
		<script src="https://use.fontawesome.com/f3009b4d7d.js"></script>
		<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
	</head>
	
	<body>
		<div ng-app="jobseeker" ng-controller="jobseekerCtrl" ng-init="init()">
			<nav class="navbar navbar-expand-lg navbar-light bg-light">
				<span class="navbar-brand" href="#">JobSeeker</span>
				<ul class="navbar-nav mr-auto">
					<li class="nav-item">
						<button type="button" role="button" class="btn navbar-btn btn-primary" data-toggle="modal" data-target="#addJobModal">Add Job</button>
					</li>
				</ul>
				
				<form class="form-inline my-2">
					<div class="form-group">
						<label for="fromDate" class="mr-sm-1">From Date:</label>
						<input class="form-control mr-sm-1" type="date" ng-model="filter.fromDate" id="fromDate"></input>
					</div>
					<div class="form-group">
						<label for="toDate" class="mr-sm-1">To Date:</label>
						<input class="form-control mr-sm-1" type="date" ng-model="filter.toDate" id="toDate"></input>
					</div>
					<input class="form-control mr-sm-2" type="text" placeholder="Search" ng-model="filter.searchTerm">
					<input type="reset" value="Reset Filters" role="button" class="btn navbar-btn btn-warning" ng-click="resetFilters()"></input>
				</form>
				
				
			</nav>
		

			<div id="addJobModal" class="modal fade" role="dialog">
				<div class="modal-dialog">
					<div class="modal-content">
						<form class="form-vertical">
						
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">
									&times;
								</button>
							</div>
							
							<div class="modal-body">
								<div class="form-group">
									<label for="dateInput">Date Applied:</label>
									<input class="form-control" type="date" ng-model="job.date" id="dateInput"></input>
								</div>
								<div class="form-group">
									<label for="titleInput">Job Title:</label>
									<input class="form-control" type="text" ng-model="job.title" id="titleInput"></input>
								</div>
								<div class="form-group">
									<label for="companyInput">Company:</label>
									<input class="form-control" type="text" ng-model="job.company" id="companyInput"></input>
								</div>
								<div class="form-group">
									<label for="locationInput">Location:</label>
									<input class="form-control" type="text" ng-model="job.location" id="locationInput"></input>
								</div>
								<div class="form-group">
									<label for="viaInput">Applied via:</label>
									<input class="form-control" type="text" ng-model="job.via" id="viaInput"></input>
								</div>
							</div>

							<div class="modal-footer">
								<input type="button" value="Reset" ng-click="resetForm()" class="btn btn-secondary"></input>
								<input type="submit" value="Submit" ng-click="submitForm()" class="btn btn-primary" data-dismiss="modal"></input>
							</div>

						</form>
					</div>
				</div>
			</div>

			<table class="table">
				<thead>
					<tr class="row">
						<th class="col-md-1">&nbsp;</th>
						<th id="dateCol" ng-click="sortBy('date')" class="sortable col-md-1" ng-class="getSortedClass('date')">Date Applied <i class="fa" ng-class="getSortedIcon('date')" /></th>
						<th id="titleCol" ng-click="sortBy('title')" class="sortable col-md-3" ng-class="getSortedClass('title')">Job Title <i class="fa" ng-class="getSortedIcon('title')" /></th>
						<th id="companyCol" ng-click="sortBy('company')" class="sortable col-md-3" ng-class="getSortedClass('company')">Company <i class="fa" ng-class="getSortedIcon('company')" /></th>
						<th id="locationCol" ng-click="sortBy('location')" class="sortable col-md-2" ng-class="getSortedClass('location')">Location <i class="fa" ng-class="getSortedIcon('location')" /></th>
						<th id="viaCol" ng-click="sortBy('via')" class="sortable col-md-2" ng-class="getSortedClass('via')">Applied Via <i class="fa" ng-class="getSortedIcon('via')"/></th>		
					</tr>
				</thead>

				<tbody>
					<tr ng-repeat="job in joblist | filter: filter.searchTerm | filter: dateFilter | orderBy: sort.orderBy : sort.reverse" class="row">
						<td class="col-md-1 text-center ">
							<button type="button" role="button" class="btn btn-warning btn-sm" ng-click="openEditModal(job)" data-toggle="modal" data-target="#addJobModal">EDIT</button>
							<button type="button" class="btn btn-danger btn-sm" ng-click="deleteJob(job)">DEL</button>
						</td>
						<td class="col-md-1 pt-3">{{ job.date | date: 'shortDate' }}</td>
						<td class="col-md-3 pt-3">{{ job.title }}</td>
						<td class="col-md-3 pt-3">{{ job.company }}</td>
						<td class="col-md-2 pt-3">{{ job.location }}</td>
						<td class="col-md-2 pt-3">{{ job.via }}</td>
						
					</tr>
				</tbody>
			</table>
		</div>
		<script src="jobseekerApp.js"></script>
		<script src="jobseekerCtrl.js"></script>
	</body>
</html>	
